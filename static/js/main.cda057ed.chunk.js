(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,n){e.exports={Overlay:"Modal_Overlay__2lABx",Modal:"Modal_Modal__AHDQT"}},11:function(e,t,n){e.exports={App:"App_App__3QEuc",notFound:"App_notFound__14NoI"}},13:function(e,t,n){e.exports={ImageGallery:"ImageGallery_ImageGallery__1TfD6",notFound:"ImageGallery_notFound__3YOii"}},17:function(e,t,n){e.exports={Spinner:"Loader_Spinner__33vgs"}},18:function(e,t,n){e.exports={Button:"Button_Button__TSwWV"}},23:function(e,t,n){},4:function(e,t,n){e.exports={Searchbar:"Searchbar_Searchbar__sk_Ak",SearchForm:"Searchbar_SearchForm__QmcCl",SearchFormButton:"Searchbar_SearchFormButton__1pw8T",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__3g102",SearchFormInput:"Searchbar_SearchFormInput__1EZo3","SearchForm-input":"Searchbar_SearchForm-input__3nNbp"}},46:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(6),o=n.n(c),i=(n(23),n(12)),s=n(3),u=n(4),l=n.n(u),m=n(0);function h(e){var t=e.onSubmit,n=Object(a.useState)(""),r=Object(s.a)(n,2),c=r[0],o=r[1];return Object(m.jsx)("header",{className:l.a.Searchbar,children:Object(m.jsxs)("form",{className:l.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(c),o("")},children:[Object(m.jsx)("button",{type:"submit",className:l.a.SearchFormButton,children:Object(m.jsx)("span",{className:l.a.SearchFormButtonLabel,children:"Search"})}),Object(m.jsx)("input",{className:l.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){o(e.currentTarget.value.trim())}})]})})}var j=n(13),b=n.n(j),d=n(9),g=n.n(d);function f(e){var t=e.url,n=e.name,a=e.onClickImg;return Object(m.jsx)("li",{className:g.a.ImageGalleryItem,onClick:a,children:Object(m.jsx)("img",{src:t,alt:n,className:g.a.ImageGalleryItemImage})})}function p(e){var t=e.images,n=e.onImgClick;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("ul",{className:b.a.ImageGallery,children:t.map((function(e){return Object(m.jsx)(f,{url:e.webformatURL,name:e.user,onClickImg:n},e.id)}))})})}var O=n(10),_=n.n(O),S=document.querySelector("#modal-root");function v(e){var t=e.onClose,n=e.clearModal,r=e.children;Object(a.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}));var o=function(e){"Escape"===e.code&&(t(),n())};return Object(c.createPortal)(Object(m.jsx)("div",{className:_.a.Overlay,onClick:function(e){e.target===e.currentTarget&&(t(),n())},children:Object(m.jsx)("div",{className:_.a.Modal,children:r})}),S)}function y(e){var t=e.url,n=e.name;return Object(m.jsx)("img",{src:t,alt:n})}var x=n(11),I=n.n(x),F=n(14),k=n(15),w=function(){function e(){Object(F.a)(this,e),this.searchQuery="",this.page=1,this.perPage=12}return Object(k.a)(e,[{key:"fetchImages",value:function(){var e=this,t="".concat("https://pixabay.com/api/","?image_type=photo&orientation=horizontal&q=").concat(this.searchQuery,"&page=").concat(this.page,"&per_page=").concat(this.perPage,"&key=").concat("22169948-cc9572b9e3579c1f2dd268170");return fetch(t).then((function(t){return t.ok?t.json():Promise.reject(new Error("\u041d\u0435\u0442 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u043f\u043e \u0434\u0430\u043d\u043d\u043e\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ".concat(e.searchQuery)))})).then((function(e){return e}))}},{key:"incrementPage",value:function(){this.page+=1}},{key:"resetPage",value:function(){this.page=1}},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}}]),e}(),N=n(16),B=n.n(N),C=(n(45),n(17)),G=n.n(C);function E(){return Object(m.jsx)("div",{className:G.a.Spinner,children:Object(m.jsx)(B.a,{type:"Circles",color:"#00BFFF",height:100,width:100,timeout:3e3})})}var L=n(18),Q=n.n(L);function A(e){var t=e.onClickBtn;return Object(m.jsx)("button",{type:"button",className:Q.a.Button,onClick:t,children:"Load more"})}var M=new w,P="idle",T="pending",q="resolved",D="rejected";var H=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({}),o=Object(s.a)(c,2),u=o[0],l=o[1],j=Object(a.useState)(!1),b=Object(s.a)(j,2),d=b[0],g=b[1],f=Object(a.useState)(null),O=Object(s.a)(f,2),_=O[0],S=O[1],x=Object(a.useState)([]),F=Object(s.a)(x,2),k=F[0],w=F[1],N=Object(a.useState)(P),B=Object(s.a)(N,2),C=B[0],G=B[1],L=Object(a.useState)(1),Q=Object(s.a)(L,2),H=Q[0],R=Q[1];Object(a.useEffect)((function(){if(""!==n){M.query=n;G(T),M.fetchImages().then((function(e){0!==e.hits.length&&(w((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.hits))})),G(q))})).catch((function(e){S(e),G(D)})).finally((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))}}),[n,H]);var U=function(e){g((function(e){return!e}))};return Object(m.jsxs)("div",{className:I.a.App,children:[Object(m.jsx)(h,{onSubmit:function(e){r(e),w([]),M.resetPage(),R(1)}}),C===P&&null,C===D&&Object(m.jsx)("div",{children:_.message}),C===q&&0===k.length&&Object(m.jsx)("div",{className:I.a.notFound,children:"Images not found"}),Object(m.jsx)(p,{onImgClick:function(e){var t=k.find((function(t){return t.webformatURL===e.target.src}));l(t),U()},images:k}),C===T&&Object(m.jsx)(E,{}),0!==k.length&&Object(m.jsx)(A,{onClickBtn:function(){M.incrementPage(),R(M.page)}}),d&&Object(m.jsx)(v,{onClose:U,clearModal:function(){l({})},children:Object(m.jsx)(y,{url:u.largeImageURL,name:u.user})})]})};o.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(H,{})}),document.getElementById("root"))},9:function(e,t,n){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3lNHQ",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__3p6Os"}}},[[46,1,2]]]);
//# sourceMappingURL=main.cda057ed.chunk.js.map